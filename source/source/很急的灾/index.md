---
title: 很急的灾
date: 2020-07-23 08:41:09
description: 一道非常非常水的图论题。
keywords: 我出的题
cover: https://acg.xydwz.cn/api/api.php  
top_img: http://ww1.sinaimg.cn/large/0075LAc9ly1gh59qvg8wsj33z41a0aib.jpg
---

<div class='tip warning'><p>此题目考试前禁止外泄！！！</p></div>

<div class='tip'><p>本题题目提供者：WYH</p></div>

<div class='tip success'><p>时间限制：1000ms</p></div>

<div class='tip success'><p>空间限制：256MB</p></div>

## 题目背景

<p class='div-border blue'>天灾即将来临，但是几个村庄的人们还没有藏身之地。</p>

## 题目描述

<p class='div-border red'>有一些房子，某些房子之间有单向的路相连接。其中，有一些房子形成了一个一个的村庄，村庄之间无法互相到达，但是村子之内每家每户之间都可以互相到达。每个房子都会在一个村庄里面，虽然有的村庄可能只有一个房子。每个村子虽然可能大小不同，但是无论大小，一个避难所都只能容纳一个村庄的人，不同村庄的人是无论怎样也不会选择进入同一个避难所的。每个房子都有可能连接向某个避难所。一个避难所区域的所有节点都是可以互相到达的。一个村庄内部的人之间非常友善，愿意让全村人民都通过Ta的房子去他们应该去的避难所。但是，避难所数量有限，而且也并不是每个村庄都可以到达所有的避难所。所以你的任务就是把各个村庄的人安排好应该去的避难所，使得能逃过天灾的人最多。</p>

## 输入格式

<p class='div-border green'>
    第一行，两个整数，<code>M</code>,<code>S</code>，代表节点有<code>M</code>个，有S条边。
    <br>后面<code>S</code>行，每行两个整数<code>X</code>，<code>Y</code>，代表从<code>X</code>到<code>Y</code>有一条有向的道路。
</p>


## 举例

![graph_爱奇艺.jpg](http://ww1.sinaimg.cn/large/0075LAc9ly1gh2bvux3qej30g40g40v5.jpg)

（你就当那个4是蓝色的（打错了qwq））

如图，红色的`1`,`2`,`3`号村庄和蓝色的`1`,`2`,`3`,`4`号避难所。

让`3`号村庄的人去`2`号避难所，`2`号村庄的人去`4`号避难所，`1`号村庄的人去`1`号避难所即可全部得救。

## 输出格式

<p class='div-border yellow'>
    一个整数，<code>A</code>，代表最多有A个村庄的人得救。
    <br>如果每个村庄的人都不能得救，则输出<code>-1</code>。
</p>
<h2>输入输出样例</h2>

<b>输入 #1</b>

```cpp
34 49
2 1
2 3
3 4
1 4
4 2
3 5
5 4
2 6
6 3
7 8
9 7
10 11
11 12
12 13
13 10
12 10
14 15
15 16
16 14
17 16
15 17
8 9
13 14
17 11
18 19
19 20
18 21 
21 20
23 24
24 25
25 26
26 27
27 23
20 18
22 28
28 29
29 22
30 31
31 32
34 33
32 34
33 31
33 30
1 7
5 22
11 8
26 22
27 20
17 7
```
<b>输出 #1</b>

```cpp
3
```

<h2>说明/提示</h2>

很明显，避难所是无法到达村庄的，但是村庄可以到达避难所。

**此题标签**

<p class='div-border blue'>
    对于$100％$的数据，M≤40000,N≤50000.
    <br>对于其中$50％$的数据，M≤400,N≤500.
    <br>对于另外$25％$的数据，M≤7000,N≤10000.
    <br>对于还有$25％$的数据，M≤40000,N≤50000.
</p>
